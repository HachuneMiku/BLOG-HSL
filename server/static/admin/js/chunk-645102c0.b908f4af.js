(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-645102c0"],{"0389":function(t,e,s){},"04d0":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"articleEdit"},[t.loadShow?s("Spin",{attrs:{fix:""}},[s("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"40"}}),s("div",{staticClass:"text-load"},[t._v("加载中")])],1):t._e(),s("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[s("Col",{attrs:{span:"20"}},[s("Card",{staticStyle:{width:"100%"}},[s("p",{attrs:{slot:"title"},slot:"title"},[s("Icon",{attrs:{type:"ios-add-circle",size:"24"}}),t._v("\n          新建文章\n        ")],1),s("div",[s("div",{staticClass:"form-item"},[s("label",{staticClass:"form-label"},[t._v("文章标题")]),s("div",{staticClass:"input-inline"},[s("Input",{attrs:{size:"large",placeholder:"输入文章标题"},model:{value:t.formArticle.title,callback:function(e){t.$set(t.formArticle,"title",e)},expression:"formArticle.title"}})],1)]),s("div",{staticClass:"form-item"},[s("label",{staticClass:"form-label"},[t._v("文章分类")]),s("div",{staticClass:"input-inline"},[s("Select",{attrs:{size:"large",placeholder:"请选择文章分类"},model:{value:t.formArticle.classify,callback:function(e){t.$set(t.formArticle,"classify",e)},expression:"formArticle.classify"}},t._l(t.types,function(e){return s("Option",{key:e.id,attrs:{value:e.id}},[t._v("\n                  "+t._s(e.category)+"\n                ")])}),1)],1)]),s("div",{staticClass:"form-item"},[s("label",{staticClass:"form-label"},[t._v("文章上传")]),s("div",{staticClass:"input-block"},[s("Upload",{attrs:{name:"content",type:"drag","show-upload-list":!1,"max-size":2048,action:"http://localhost:3000/admin/article/upload","on-success":t.successUp,"on-error":t.errorUp,"on-exceeded-size":t.excsize}},[s("div",{staticStyle:{padding:"20px 0"}},[s("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),s("p",[t._v("单击或拖动文章到此处上载")])],1)])],1)]),s("div",{staticClass:"form-item"},[s("div",{staticClass:"input-block"},[s("Button",{attrs:{type:"primary",label:"large"},on:{click:t.handleSubmit}},[t._v("提交")]),s("Button",{staticStyle:{"margin-left":"20px"},attrs:{label:"large"},on:{click:t.handleReset}},[t._v("取消")])],1)])])])],1)],1)],1)},a=[],n=(s("96cf"),s("3b8d")),l={data:function(){return{loadShow:!1,formArticle:{title:"",classify:"",content:"",contenturl:""},types:[]}},methods:{successUp:function(t,e,s){this.formArticle.contenturl=t.tempUrl,this.$Message.success("上传成功")},errorUp:function(t,e,s){console.log(t)},excsize:function(t,e){this.$Message.error("上传文件不得超过2MB")},handleSubmit:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this,t.next=3,this.$hslApi.post("article/curd",{type:"add",title:e.formArticle.title,classify:e.formArticle.classify,contenturl:e.formArticle.contenturl});case 3:s=t.sent,"yes"==s.data.code?this.$Message.success({content:s.data.msg,onClose:function(){e.$router.push("/articles/list")}}):this.$Message.error({content:s.data.msg,onClose:function(){e.formArticle={title:"",classify:"",content:"",contenturl:""}}});case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleReset:function(){this.formArticle={title:"",classify:"",content:"",contenturl:""}},typeList:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$hslApi.post("articletype/allist",{});case 2:e=t.sent,this.types=e.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.typeList()}},r=l,c=(s("5794"),s("2877")),o=Object(c["a"])(r,i,a,!1,null,null,null);e["default"]=o.exports},5794:function(t,e,s){"use strict";var i=s("0389"),a=s.n(i);a.a}}]);